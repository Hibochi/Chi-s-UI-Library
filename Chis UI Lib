--[[

Credit: Made by Hibochi#5683

]]

local library = {}

function library:ToggleUI()
    if game.CoreGui:FindFirstChild("ChisUILib").Enabled  then
        game.CoreGui:FindFirstChild("ChisUILib").Enabled = false
    else
        game.CoreGui:FindFirstChild("ChisUILib").Enabled = true
    end
end

for i, v in pairs(game:GetService("CoreGui"):GetChildren()) do
    if v:IsA("ScreenGui") and v.Name == "ChisUILib" then
        v:Destroy()
    end
end

local focusing = false

function library:CreateLib(arg, name)

    local Chis = Instance.new("ScreenGui")
    local UpperFrame = Instance.new("Frame")
    local UICorner = Instance.new("UICorner")
    local UIName = Instance.new("TextLabel")
    local UICorner_2 = Instance.new("UICorner")
    local Container = Instance.new("Frame")
    local UICorner_3 = Instance.new("UICorner")
    local TabContainer = Instance.new("Frame")
    local UICorner_4 = Instance.new("UICorner")
    local UIListLayout = Instance.new("UIListLayout")
    local UIPadding = Instance.new("UIPadding")
    local TabContainerList = Instance.new("Frame")
    local UICorner_7 = Instance.new("UICorner")
    local UIPadding_2 = Instance.new("UIPadding")
    local UIGridLayout = Instance.new("UIGridLayout")
    local UpperInFrame = Instance.new("Frame")
    local UICorner_6 = Instance.new("UICorner")
    local pages = Instance.new("Folder")

    --Properties:

    Chis.Name = "ChisUILib"
    Chis.Parent = game:GetService("CoreGui")
    Chis.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    
    UpperFrame.Name = "UpperFrame"
    UpperFrame.Parent = Chis
    UpperFrame.AnchorPoint = Vector2.new(0.5, 0.5)
    UpperFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    UpperFrame.Position = UDim2.new(0.539285779, 0, 0.251478165, 0)
    UpperFrame.Size = UDim2.new(0.465983212, 0, 0.0748663098, 0)
    UpperFrame.ZIndex = 0
    UpperFrame.Active = true
    UpperFrame.Draggable = true

    pages.Name = "Pages"
    pages.Parent = UpperFrame
    
    UICorner.Parent = UpperFrame
    
    UIName.Name = "UIName"
    UIName.Parent = UpperFrame
    UIName.AnchorPoint = Vector2.new(0.5, 0.5)
    UIName.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    UIName.BackgroundTransparency = 1.000
    UIName.Position = UDim2.new(0.5, 0, 0.535714269, 0)
    UIName.Size = UDim2.new(0.400000006, 0, 0.892857134, 0)
    UIName.ZIndex = 2
    UIName.Font = Enum.Font.Cartoon
    UIName.Text = arg
    UIName.TextColor3 = Color3.fromRGB(255, 255, 255)
    UIName.TextScaled = true
    UIName.TextSize = 14.000
    UIName.TextWrapped = true
    
    UICorner_2.Parent = UIName
    
    Container.Name = "Container"
    Container.Parent = UpperFrame
    Container.AnchorPoint = Vector2.new(0.5, 0.5)
    Container.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    Container.Position = UDim2.new(0.499533981, 0, 4.71428537, 0)
    Container.Size = UDim2.new(1.00199997, 0, 9.46428585, 0)
    Container.ZIndex = 0
    
    UICorner_3.Parent = Container
    
    TabContainer.Name = "TabContainer"
    TabContainer.Parent = UpperFrame
    TabContainer.BackgroundColor3 = Color3.fromRGB(13, 13, 13)
    TabContainer.Position = UDim2.new(-0.00200000009, 0, 1.03571403, 0)
    TabContainer.Size = UDim2.new(0.203999996, 0, 8.39285755, 0)
    
    UICorner_4.Parent = TabContainer
    
    UIListLayout.Parent = TabContainer
    UIListLayout.Padding = UDim.new(0, 5)
    UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
    
    UIPadding.Parent = TabContainer
    UIPadding.PaddingTop = UDim.new(0, 5)

    UpperInFrame.Name = "UpperInFrame"
    UpperInFrame.Parent = UpperFrame
    UpperInFrame.AnchorPoint = Vector2.new(0.5, 0.5)
    UpperInFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    UpperInFrame.Position = UDim2.new(0.499285787, 0, 0.537192464, 0)
    UpperInFrame.Size = UDim2.new(1, 0, 1, 0)

    UICorner_6.Parent = UpperInFrame

    local TabButtons = {}

    function TabButtons:AddTab(text)

        local TabButton = Instance.new("TextButton")
        local UICorner_5 = Instance.new("UICorner")
        local TabContainerList = Instance.new("Frame")
        local UICorner_7 = Instance.new("UICorner")
        local UIPadding_2 = Instance.new("UIPadding")
        local UIGridLayout = Instance.new("UIGridLayout")

        TabButton.Name = text.." TabButton"
        TabButton.Parent = TabContainer
        TabButton.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        TabButton.Position = UDim2.new(0, 0, 3.24655076e-08, 0)
        TabButton.Size = UDim2.new(1, 0, 0.0893616974, 0)
        TabButton.Font = Enum.Font.Cartoon
        TabButton.Text = text.." Tab"
        TabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        TabButton.TextScaled = true
        TabButton.TextSize = 14.000
        TabButton.TextWrapped = true

        UICorner_5.Parent = TabButton

        TabContainerList.Name = "TabContainerList"
        TabContainerList.Parent = pages
        TabContainerList.AnchorPoint = Vector2.new(0.5, 0.5)
        TabContainerList.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
        TabContainerList.Position = UDim2.new(0.607266963, 0, 5.33035707, 0)
        TabContainerList.Size = UDim2.new(0.786533952, 0, 8.23214245, 0)
        TabContainerList.ZIndex = 2
        TabContainerList.Visible = false
    
        UICorner_7.Parent = TabContainerList

        TabButton.MouseButton1Click:Connect(function()
            for i, v in next, pages:GetChildren() do
                v.Visible = false
            end
            TabContainerList.Visible = true
        end)
    
        UIPadding_2.Parent = TabContainerList
    
        UIGridLayout.Parent = TabContainerList
        UIGridLayout.SortOrder = Enum.SortOrder.LayoutOrder
        UIGridLayout.CellSize = UDim2.new(0, 127, 0, 21)
        UIGridLayout.FillDirectionMaxCells = 3

        local Buttons_functions = {}

        function Buttons_functions:AddButton(text, callback)
            local callback = callback or function() end
            local Button = Instance.new("TextButton")
            local UICorner_8 = Instance.new("UICorner")
    
            Button.Name = "Button"
            Button.Parent = TabContainerList
            Button.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
            Button.Position = UDim2.new(-0.0399201587, 0, 0.0452830195, 0)
            Button.Size = UDim2.new(0.253493011, 0, 0.0792452842, 0)
            Button.Font = Enum.Font.Cartoon
            Button.Text = text
            Button.TextColor3 = Color3.fromRGB(255, 255, 255)
            Button.TextScaled = true
            Button.TextSize = 14.000
            Button.TextWrapped = true
            
            UICorner_8.Parent = Button
    
            Button.MouseButton1Click:Connect(function()
                pcall(callback)
            end)
        end

        function Buttons_functions:AddKeybind(nametext, first, callback)
            nametext = nametext or "Keybind:"
            callback = callback or function () end
            local oldkey = first.Name
            local KeybindBox = Instance.new("TextButton")
            local UICorner = Instance.new("UICorner")
            local Keybindname = Instance.new("TextLabel")
            local UICorner_2 = Instance.new("UICorner")
            local Title = Instance.new("TextLabel")
            local UICorner_3 = Instance.new("UICorner")

            KeybindBox.Name = "KeybindBox"
            KeybindBox.Parent = TabContainerList
            KeybindBox.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
            KeybindBox.Position = UDim2.new(-0.0399201587, 0, 0.0452830195, 0)
            KeybindBox.Size = UDim2.new(0.322935849, 0, 0.0911062956, 0)
            KeybindBox.Font = Enum.Font.Cartoon
            KeybindBox.Text = ""
            KeybindBox.TextColor3 = Color3.fromRGB(255, 255, 255)
            KeybindBox.TextScaled = true
            KeybindBox.TextSize = 14.000
            KeybindBox.TextWrapped = true
            KeybindBox.TextXAlignment = Enum.TextXAlignment.Right
            KeybindBox.MouseButton1Click:Connect(function(k)
                if not focusing then
                    Keybindname.Text = ". . ."
                    local e, r = game:GetService("UserInputService").InputBegan:Wait()
                    if e.KeyCode.Name ~= "Unknown" then
                        Keybindname.Text = e.KeyCode.Name
                        oldkey = e.KeyCode.Name;
                    end
                end
            end)

            game:GetService("UserInputService").InputBegan:connect(function(current, ok) 
                if not ok then 
                    if current.KeyCode.Name == oldkey then 
                        callback()
                    end
                end
            end)

            UICorner.Parent = KeybindBox

            Keybindname.Name = "Keybindname"
            Keybindname.Parent = KeybindBox
            Keybindname.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            Keybindname.BackgroundTransparency = 1.000
            Keybindname.Position = UDim2.new(0.456692904, 0, -3.63304508e-07, 0)
            Keybindname.Size = UDim2.new(0, 67, 0, 20)
            Keybindname.Font = Enum.Font.Cartoon
            Keybindname.Text = oldkey
            Keybindname.TextColor3 = Color3.fromRGB(255, 255, 255)
            Keybindname.TextScaled = true
            Keybindname.TextSize = 14.000
            Keybindname.TextWrapped = true

            UICorner_2.Parent = Keybindname

            Title.Name = "Title"
            Title.Parent = KeybindBox
            Title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            Title.BackgroundTransparency = 1.000
            Title.Position = UDim2.new(0, 0, -3.63304508e-07, 0)
            Title.Size = UDim2.new(0, 53, 0, 20)
            Title.Font = Enum.Font.Cartoon
            Title.Text = nametext
            Title.TextColor3 = Color3.fromRGB(255, 255, 255)
            Title.TextScaled = true
            Title.TextSize = 14.000
            Title.TextWrapped = true

            UICorner_3.Parent = Title
            
        end
        do return Buttons_functions end
    end
    do return TabButtons end
end

return library
